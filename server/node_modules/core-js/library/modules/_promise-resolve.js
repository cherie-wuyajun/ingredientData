var anObject = require('core-js/library/modules/_an-object');
var isObject = require('core-js/library/modules/_is-object');
var newPromiseCapability = require('core-js/library/modules/_new-promise-capability');

module.exports = function (C, x) {
  anObject(C);
  if (isObject(x) && x.constructor === C) return x;
  var promiseCapability = newPromiseCapability.f(C);
  var resolve = promiseCapability.resolve;
  resolve(x);
  return promiseCapability.promise;
};
